클라이언트 역할 수행을 위해 필수적인 파일 가져오기

클라이언트 역할을 위해 쓸 파일 디스크럽터를 가져오는 함수를 사전 선언

메인(매개변수 갯수, 매개변수 내용)
{
    사전 선언 : 소켓(파일 디스크럽터) 저장 할 곳.
    사전 선언 : 연결 할 곳, 포트번호, 실제 내용
    사전 선언 : robust I/O 사용을 위한 기초 변수 한 개

    만약 : 매개변수 갯수가 안맞으면 (여기선 2개가 필요하다.)
    {
        
        매개변수는 [프로그램 이름] [연결 할 곳] [포트 번호] 순으로 적어주세요. 라고 출력한다.
        
        프로그램 종료한다.
    }
    매개변수 중 첫 번째는 프로그램 내에 "연결 할 곳" 에 저장한다.
    매개변수 중 두 번째는 프로그램 내에 "포트번호"에 저장한다.



    디스크럽터를 저장 할 변수에 디스크럽터를 만드는 함수를 호출한 결과를 넣는다.
        이 함수 사용을 위해서는 "연결 할 곳", "포트번호"라는 정보가 필요하다.



    RIO라는 안전 중개 장치 사용을 위해 아까 얻은 디스크럽터를 rio에 연결한다.
    
    


















    반복하기 : 사용자에게 입력받은 문자열의 내용이 있는 경우
        {
            중개 장치를 사용하여 buf 내용이 전부 보내질때까지 전송한다. (clientfd에 도착지, buf와 strlen(buf)는 안전포장 내에 있는 내용에 대한 내용이다. )
            중개 장치를 사용하여 줄 단위로 내용을 읽어온다. (rio에 접근해서, buf에 MAXLINE만큼 받아온다.)
            받아온걸 내 컴퓨터의 화면에 출력하도록한다.
        }
    디스크럽터에 대한 사용을 명시적으로 종료한다.
    프로그램 종료한다.
}



디스크럽터를 만드는 함수이다. 재료로 호스트에 대한 정보와 포트 번호가 필요하다.
{
    디스크럽터 저장할 지역변수 선언한다.
    더 많은 함수를 불러오게 될텐데, 이 내용들을 저장할 구조체를 몇 개 미리 선언한다.

    hints 구조체의 내용을 0으로 초기화한다. 명시적으로 NULL 초기화하는거랑 같은 이유이다.
        hints는 일종의 검색 범위, 필터 같은 역할이다. 그래서 내가 뭘 원하는지를 이제부터 지정해주어야 한다.

    hints 내용 중, 소켓 형태를 연결 지향형 소켓으로 하겠다는 설정으로 전환한다.
        
    hints 내용 중, port 인자가 문자열로 된 숫자임을 보장하겠다고 사전에 설정한다.


    hints 내용 중, IPv4, IPv6에 부합하는 애들만 결과로 받아들이도록 사전에 설정한다.

    주소 목록을 받아오는 함수를 호출한다.
        * hostname, port에 대응하는 주소 정보를 linked list 형태로 받아온다.
        * hints는 여기서 검색 조건으로써 쓰이고, listp는 결과값을 받아오는 포인터로써 사용된다.



    listp의 모든 아이템에 대해 한 번씩 시도한다:
    {


        만약 : 디스크럽터 저장할 곳에 소켓 함수를 호출한 결과가 없다면,
            이 아이템에 대한 반복문을 여기서 종료하고 바로 다음 아이템에 대해 시도한다.
            
        [그럼 위의 만약을 통과했다면 소켓 디스크럽터를 얻어오긴 했다는게 된다.]
        만약 : 얻어온 디스크럽터에 연결에 성공한다면
            이 반복문을 즉시 빠져나간다.


        [위 만약을 통과했다면 연결시도에서 문제가 생겼으니 명시적으로 닫아줘야한다.]
        디스크럽터에 대한 사용을 명시적으로 종료한다.

    }


    listp를 더 쓸 이유가 없으니 메모리 해제를 한다.


    만약 (!p) 라면 (반복문을 다 돌면 p는 NULL이 된다. 반복문을 다 돌았다는건 접속에 성공한게 없다는 것이다.)
        -1을 반환하여 실패를 알린다.
    그렇지 않다면
        성공한 디스크럽터 번호를 알린다.


}